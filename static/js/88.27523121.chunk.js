"use strict";(self.webpackChunkreact_app_boilerplate=self.webpackChunkreact_app_boilerplate||[]).push([[88],{2088:function(e,n,t){t.r(n),t.d(n,{default:function(){return Te}});var r=t(2791),o=t(3433),i=t(658),a=t(9658),u=t(3239),c=t(9439),s=t(4518),l="https://dummyjson.com/",d={create:"todos/add",retrieve:"todos",update:"todos/:todoId",delete:"todos/:todoId"},f=t(1413),v=t(4704),h=t(6403),p=t(3418),m=t(7762);var Z=function(e){return""===e||void 0===e||null===e||Array.isArray(e)&&0===e.length||"object"===typeof e&&0===Object.keys(e).length};var y,b=function(e,n){if(Z(e)||Z(n))return e;var t=new URLSearchParams("");return Object.keys(n).forEach((function(e){t.set(e,n[e])})),e="".concat(e,"?").concat(t.toString())},g=t(1243),x=function(e,n){return g.Z.get(new URL(e,l).href,(0,f.Z)({headers:{"Content-Type":"application/json"}},n))},j=function(e,n,t){return g.Z.post(new URL(e,l).href,n,(0,f.Z)({headers:{"Content-Type":"application/json"}},t))},T=function(e,n,t){return b(function(e,n){return e&&n?(Object.keys(n).forEach((function(t){e.includes(":".concat(t))&&(e=e.replace(":".concat(t),n[t]))})),e):e}(e,n),(0,f.Z)((0,f.Z)({},t),null===n||void 0===n?void 0:n.urlParams))};!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(y||(y={}));var k,w,O=function(e,n,t,r){var o=(0,h.NL)();return(0,p.D)(e,{onSuccess:function(e,i){var a=i.urlParams;o.setQueryData([t,T(n,i,(0,f.Z)((0,f.Z)({},r),a))],e)},onError:function(e){console.error(e)}})},E=function(){return e=d.create,n={},O((function(r){var o=r.urlParams;return j(e,r,{params:(0,f.Z)((0,f.Z)({},t),o)}).then((function(e){return e.data})).then((function(e){return null!==n&&void 0!==n&&n.responseParser?n.responseParser(e):e}))}),e,y.POST,t);var e,n,t},P=function(){return e=d.retrieve,n={},(0,v.a)((0,f.Z)({queryKey:[y.GET,b(e,n)],queryFn:function(){return x(e,{params:n}).then((function(e){return e.data})).then((function(e){return null!==t&&void 0!==t&&t.responseParser?t.responseParser(e):e}))},enabled:!!e&&(null===r||void 0===r?void 0:r.enabled)},r));var e,n,t,r},S=t(1931),C=t(4942);!function(e){e.setToast="setToast",e.setSelectedTodos="setSelectedTodos"}(k||(k={}));var L,D,I,R={toast:{open:!1,message:"",type:"success"},selectedTodos:[]},q=function e(n){return function(t,r){var o,i,a=null!==(o=null===(i=Object.keys(r))||void 0===i?void 0:i[0])&&void 0!==o?o:null;if(!a)return t;var u=r[a],c=n[a],s=c?c(t,u):t,l=function(e,n){var t={};n=new Set(n);var r,o=Object.keys(e).filter((function(e){return!n.has(e)})),i=(0,m.Z)(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;t[a]=e[a]}}catch(u){i.e(u)}finally{i.f()}return t}(r,[a]);return e(n)(s,l)}}((w={},(0,C.Z)(w,k.setToast,(function(e,n){return(0,f.Z)((0,f.Z)({},e),{},{toast:n})})),(0,C.Z)(w,k.setSelectedTodos,(function(e,n){return(0,f.Z)((0,f.Z)({},e),{},{selectedTodos:n})})),w)),G=t(184),U=(0,S.kr)(R),A=(0,S.kr)((function(){return null})),N=function(){return(0,S.qp)(A)},V=function(e){return(0,S.Sz)(U,e)},_=function(e){var n=e.children,t=r.useReducer(q,R),o=(0,c.Z)(t,2),i=o[0],a=o[1];return(0,G.jsx)(U.Provider,{value:i,children:(0,G.jsx)(A.Provider,{value:a,children:n})})},z=t(168),H=t(225),M=t(7621),Q=t(5441),B=(0,H.Z)(M.Z)(L||(L=(0,z.Z)(["\n  display: flex;\n  padding: 1rem;\n  margin: 1rem;\n  "]))),F=(0,H.Z)(Q.Z)(D||(D=(0,z.Z)(["\n  flex: 1;\n"]))),K=function(){var e=r.useRef(),n=(0,r.useState)(""),t=(0,c.Z)(n,2),o=t[0],i=t[1],a=E(),u=N(),l=r.useCallback((function(){a.mutateAsync({todo:o,userId:5}).then((function(){u({setToast:{open:!0,type:"success",message:"Todo added successfully"}}),e.current&&(e.current.value="")})).catch((function(e){return u({setToast:{open:!0,type:"error",message:"Failed to add"}})}))}),[o,a,u]);return(0,G.jsxs)(B,{children:[(0,G.jsx)(F,{inputRef:e,placeholder:"Enter todo item...",inputProps:{"aria-label":"todo"},onChange:function(e){return i(e.target.value)}}),(0,G.jsx)(s.Z,{color:"secondary","aria-label":"add an alarm",onClick:function(){return l()},children:"Add"})]})},J=t(3400),W=["title","titleId"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},X.apply(this,arguments)}function Y(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function $(e,n){var t=e.title,o=e.titleId,i=Y(e,W);return r.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 96 960 960",width:24,ref:n,"aria-labelledby":o},i),t?r.createElement("title",{id:o},t):null,I||(I=r.createElement("path",{d:"M261 936q-24.75 0-42.375-17.625T201 876V306h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438V306ZM367 790h60V391h-60v399Zm166 0h60V391h-60v399ZM261 306v570-570Z"})))}var ee,ne,te,re,oe=r.forwardRef($),ie=(t.p,H.Z.div(ee||(ee=(0,z.Z)(["\n  justify-content: space-between; \n  font-size: 0.8em;\n  display: flex;\n  margin: 0 1rem;\n  align-items: center;\n"])))),ae=H.Z.p(ne||(ne=(0,z.Z)(["\n  margin: 0;\n  padding-left: 0.5rem;\n"]))),ue=function(e){var n=e.selectedTodos,t=N(),o=(0,h.NL)(),i=r.useCallback((function(){o.setQueryData([y.GET,"todos"],(function(e){var t,r=null===e||void 0===e||null===(t=e.todos)||void 0===t?void 0:t.filter((function(e){return!n.some((function(n){return Number(n)===e.id}))}));return(0,f.Z)((0,f.Z)({},e),{},{todos:r})})),t({setSelectedTodos:[]})}),[t,o,n]);return(null===n||void 0===n?void 0:n.length)>0?(0,G.jsxs)(ie,{children:[(0,G.jsxs)(ae,{children:[(0,G.jsx)("b",{children:null===n||void 0===n?void 0:n.length})," row selected"]}),(0,G.jsx)(J.Z,{onClick:i,children:(0,G.jsx)(oe,{})})]}):null},ce=t(1123),se=t(1627),le=t(2199),de=(0,H.Z)(M.Z)(te||(te=(0,z.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 1rem;\n  padding: 1rem;\n"]))),fe=(0,H.Z)(le.Z)(re||(re=(0,z.Z)(["\n  display: flex;\n"]))),ve=function(e){var n=e.id,t=e.text,o=e.checkedOnChange,i=void 0===o?function(){}:o,a=(0,h.NL)(),u=r.useCallback((function(){i(n,!1),a.setQueryData([y.GET,"todos"],(function(e){var t,r=null===e||void 0===e||null===(t=e.todos)||void 0===t?void 0:t.filter((function(e){return e.id!==n}));return(0,f.Z)((0,f.Z)({},e),{},{todos:r})}))}),[n,i,a]);return(0,G.jsxs)(de,{children:[(0,G.jsx)(ce.Z,{children:t}),(0,G.jsxs)(fe,{children:[(0,G.jsx)(J.Z,{onClick:u,children:(0,G.jsx)(oe,{})}),(0,G.jsx)(se.Z,{onChange:function(e){return i(n,Boolean(e.target.checked))}})]})]})},he=["mobile","tablet","desktop","largeScreen"],pe={mobile:0,tablet:640,desktop:960,largeScreen:1650},me="px";function Ze(e){var n="number"===typeof pe[e]?pe[e]:e;return"@media (min-width:".concat(n).concat(me,")")}function ye(e,n){return"@media (min-width:".concat("number"===typeof pe[e]?pe[e]:e).concat(me,") and ")+"(max-width:".concat("number"===typeof pe[n]?pe[n]:n).concat(me,")")}var be,ge={breakpoints:{keys:he,values:pe,unit:me,up:Ze,down:function(e){var n="number"===typeof pe[e]?pe[e]:e;return"@media (max-width:".concat(n).concat(me,")")},between:ye,only:function(e){return he.indexOf(e)+1<he.length?ye(e,he[he.indexOf(e)+1]):Ze(e)}}},xe=H.Z.div(be||(be=(0,z.Z)(["\n  margin: 0 auto;\n  width: 100%;\n  text-align: center;\n\n  ","{\n    width: 50%;\n  }\n"])),ge.breakpoints.up("desktop")),je=function(){var e,n,t=P(),c=N(),s=V((function(e){return e.toast})),l=V((function(e){return e.selectedTodos})),d=r.useCallback((function(){c({setToast:{open:!1}})}),[c]),f=r.useCallback((function(e,n){var t=(0,o.Z)(l);if(n)t.push(e);else{var r=t.findIndex((function(n){return n===e}));r>-1&&t.splice(r,1)}c({setSelectedTodos:t})}),[l,c]);return(0,G.jsxs)(xe,{children:[(0,G.jsx)(i.Z,{open:null===s||void 0===s?void 0:s.open,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:d,children:(0,G.jsx)(a.Z,{severity:null===s||void 0===s?void 0:s.type,sx:{width:"100%"},children:null===s||void 0===s?void 0:s.message})}),(0,G.jsx)(K,{}),(0,G.jsx)(ue,{selectedTodos:l}),t.isLoading&&(0,G.jsx)(u.Z,{}),null===(e=t.data)||void 0===e||null===(n=e.todos)||void 0===n?void 0:n.map((function(e){var n,t;return(0,G.jsx)(ve,{id:null!==(n=e.id)&&void 0!==n?n:0,text:null!==(t=null===e||void 0===e?void 0:e.todo)&&void 0!==t?t:"",checkedOnChange:f},e.id)}))]})},Te=function(){return(0,G.jsx)(_,{children:(0,G.jsx)(je,{})})}}}]);
//# sourceMappingURL=88.27523121.chunk.js.map